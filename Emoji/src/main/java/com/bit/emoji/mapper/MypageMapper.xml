<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MypageMapper">
	<!-- 회원정보 상세조회 -->
	<select id="listAll" resultType="com.bit.emoji.model.MemberVO"
		parameterType="int">
		select
		memberEmail, memberName, memberPassword,
		memberGender, memberPhoneNum,
		memberJoinGrade, memberCapGrade
		from
		member
		where memberNum = #{memberNum}

	</select>

	<!-- 회원정보수정 -->
	<update id="updateMember"
		parameterType="com.bit.emoji.model.MemberVO">
		UPDATE member SET
		memberEmail =#{memberEmail},
		memberName= #{memberName},
		memberPassword = #{memberPassword},
		memberGender = #{memberGender},
		memberPhoneNum = #{memberPhoneNum},
		memberJoinGrade =
		#{memberJoinGrade},
		memberCapGrade = #{memberCapGrade}
		WHERE
		memberNum = #{memberNum}

	</update>

	<!-- 내가 만든 지도 목록 조회 -->
	<select id="myDmList"
		resultType="com.bit.emoji.model.DeliciousMapVO" parameterType="int">
		select
		deliciousMapNum, deliciousMapName, deliciousMapTag,
		deliciousMapDetail, deliciousMapOpen,
		deliciousMapCreateDate, memberNum
		from dMap
		where memberNum = #{memberNum}
	</select>

	<!-- 지도 목록 리뷰 조회 -->
	<select id="myDmReview"
		resultType="com.bit.emoji.model.DeliciousReviewVO" parameterType="int">
		SELECT
		deliciousMapReviewNum, deliciousMapTitle,
		deliciousMapContent, deliciousMapWriteDate,
		deliciousMapImg, deliciousMapGrade,
		memberNum, deliciousMapNum
		FROM dmReview
		where deliciousMapNum = #{deliciousMapNum}
	</select>

</mapper>